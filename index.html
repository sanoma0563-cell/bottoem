<!doctype html>
<html lang="ja">
<head> 
<meta charset="utf-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1"> 
<title>無料登録ページ</title>

<style>
  body {
    margin: 0;
    background: #f7f7f7;
    font-family: -apple-system, BlinkMacSystemFont, "Helvetica Neue", "Noto Sans JP", sans-serif;
  }

  .main-wrap {
    max-width: 540px;
    margin: 0 auto;
    background: #fff;
  }

  .hero-img {
    width: 100%;
    display: block;
    border-bottom: 1px solid #eee;
  }

  .form-box {
    padding: 22px;
  }

  .title {
    font-size: 20px;
    font-weight: bold;
    text-align: center;
    margin-bottom: 14px;
  }

  input[type="email"] {
    width   : 100%;
    padding : 16px;
    font-size: 16px;
    border-radius: 10px;
    border : 1px solid #ccc;
    margin-bottom: 16px;
    box-sizing: border-box;
  }

  .submit-btn {
    width: 100%;
    padding: 18px;
    background: linear-gradient(180deg, #8ad53c, #6cb428);
    color: #fff;
    border: none;
    border-radius: 100px;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 8px 18px rgba(0,0,0,0.15);
    text-decoration: none;
    display: inline-block;
    text-align: center;
  }

  .msg {
    text-align: center;
    margin-top: 12px;
    font-size: 15px;
  }

</style>
</head>

<body>

<div class="main-wrap">

  <!-- ▼ あなたの添付画像を表示 -->
  <img src="https://sanoma0563-cell.github.io/bottoem/Travel.png" class="hero-img" alt="広告">

  <div class="form-box">

    <div class="title">▼ メールアドレスを入力して参加 ▼</div>

    <!-- ▼ メール送信フォーム（Formspree の URL を入れる） -->
    <form id="leadForm" action="YOUR_FORMSPREE_URL" method="POST">
      <input id="email" type="email" name="email" placeholder="例：sample@gmail.com" required>
      <p id="msg" class="msg"></p>
    </form>

    <!-- ▼ ボタン：押した瞬間 Jimdo へ移動 -->
    <a href="https://sanoconsultingengineers.jimdofree.com/" class="submit-btn">
      参加する
    </a>

  </div>
</div>

<script>
  // 入力されたメールを Formspree へ自動送信（ページ遷移なし）
  const form = document.getElementById("leadForm");
  const emailInput = document.getElementById("email");
  const msg = document.getElementById("msg");

  emailInput.addEventListener("change", async function () {
    msg.textContent = "";
    const email = emailInput.value.trim();
    const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    if (!email || !re.test(email)) {
      msg.textContent = "正しいメールアドレスを入力してください。";
      msg.style.color = "#c33";
      return;
    }

    try {
      const fd = new FormData(form);
      const res = await fetch(form.action, {
        method: "POST",
        body: fd,
        headers: { "Accept": "application/json" }
      });

      if (res.ok) {
        msg.textContent = "メールを送信しました！";
        msg.style.color = "green";
      } else {
        msg.textContent = "送信できませんでした。";
        msg.style.color = "#c33";
      }
    } catch {
      msg.textContent = "通信エラーが発生しました。";
      msg.style.color = "#c33";
    }
  });
</script>

</body>
</html>
